<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body{
        padding: 0px;
        margin: 0px;
        width: 100vw;
        height: 100vh;
        background-color: white;
    }
    .content{
        position: absolute;
        width: 550px;
        height: 50px;
        padding-top: 26px;
        /* border: 1px solid red; */
        background-color:white;
        border-radius: 30px;
        text-align: center;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
    }
    .box{
        position: absolute;
        left: 700px;
        top: 400px;
        color: black;
    }
    #checkbox{
        top: 0px;
        width: 100%;
        background-color: aliceblue;
        height: 200px;
        text-align: center;
        /* display: none; */
    }
    .checktext{
        position: relative;
        top: 150px;
        display: flex;
        left: 850px;
    }
</style>
<body>
    <div class="content">
        <label for="">이름</label>
        <input type="text" id="userId">
        <label for="">비밀번호</label>
        <input type="text" id="userPw">
        <button id="login">로그인</button>
        <button id="cookiedeleteBtn">쿠키삭제</button>
    </div>
    <div class="box">
        <div id="userName"></div>
        <div id="cookieAllView"></div>
    </div>
    <div id="checkbox">
        <div>광고입니다.ㅎㅎ</div>
        <div class="ac"></div>
        <div class="checktext">
            <div>하루동안 보지 않기</div>
            <input type="checkbox" id="check"></input>
            <button id="deleteBtn">닫기</button>
        </div>
    </div>
</body>
<script src="test.js"></script>
<script>

    login.onclick = function(){
        sessionStorage.setItem("userId", userId.value);
        let user = sessionStorage.getItem("userId");
        userName.innerHTML = user + "님 어서오세요!!";
        // let checkCookie = isActiveCookie(user);
        // if(checkCookie == false){
        //     checkbox.style.display = "block";
        // };

        // 이미 쿠키가 있다면 다시 로그인 버튼을 눌렀을 때 광고가 뜨지 않는다 
        let deletecookie = isActiveCookie(sessionStorage.getItem("userId"));
        if(deletecookie == true){
            checkbox.style.display = "none";
        };
    };

    //체크박스 확인용 변수
    let aa = 0;
    check.onclick = function(){
        if(aa == 0){
            aa =1;
        } else if(aa == 1){
            aa = 0;
        };
        cookieAllView.innerHTML = document.cookie;
    };
    
    deleteBtn.onclick = function(){
        if(aa == 1){
            let create = sessionStorage.getItem("userId");
            createCookie(create, "1", 1);
            let deletecookie = isActiveCookie(create);
            if(deletecookie == true){
                checkbox.style.display = "none";
            };
        } else if(aa == 0){
            checkbox.style.display = "none";
        }
    };

    window.onload = function(){
        let deletecookie = isActiveCookie(sessionStorage.getItem("userId"));
        if(deletecookie == true){
            checkbox.style.display = "none";
        };
    };

    cookiedeleteBtn.onclick = function(){
        isDeleteCookie(userId.value);
        console.log(userId.value, "가 삭제 되었음");
    };
</script>
</html>